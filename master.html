<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>
          var socket = io.connect('http://localhost'),
            clients = [];

          function createClientsString(client){
            var clientsString = "";
            for (var i=0; i<clients.length; i++) {
                if (clients[i]) {
                    clientsString = clientsString + clients[i] + "\n";
                }
            }
            return clientsString;
          }

          $(document).ready(function(){
                $("#play").click(function(){
                    socket.emit('masterEvent', { audioEvent: 'play' });
                });
                $("#pause").click(function(){
                    socket.emit('masterEvent', { audioEvent: 'pause' });
                });
                $("#stop").click(function(){
                    socket.emit('masterEvent', { audioEvent: 'stop' });
                });
            });

          socket.on('clientAdded', function(data){
            clients.push(data.item);
            $("#clients").text(createClientsString(clients));
          });

          socket.on('clientRemoved', function(data){
            clients.splice(clients.indexOf(data.item));
            $("#clients").text(createClientsString(clients));
          });
        </script>
    </head>
    <body>
        <input type="button" id="play" value="play"/>
        <input type="button" id="pause" value="pause"/>
        <input type="button" id="stop" value="stop"/><br>
        currently connected:
        <div id="clients">

        </div>
    </body>
</html>
